<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CareerMatch{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">

    {% block head %}{% endblock %}
</head>
<body>

    <header class="topbar">
        <div class="brand">CareerMatch</div>
        <nav class="navlinks">
            <a href="/" class="{% if request.url.path == '/' %}active{% endif %}">Home</a>
            <a href="/profile" class="{% if request.url.path.startswith('/profile') %}active{% endif %}">Profile</a>
            <a href="/matches" class="{% if request.url.path.startswith('/matches') %}active{% endif %}">Matches</a>
            {% if user %}
                <a href="/logout">Logout</a>
            {% else %}
                <a href="/signup">Sign up</a>
                <a href="/login">Log in</a>
            {% endif %}
        </nav>
    </header>

    <main>
    {% block content %}{% endblock %}
    </main>

    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script>
        function celebrate() {
            const colors = ['#ff0044', '#00ff88', '#4488ff', '#ffaa00', '#ff44aa'];
            for(let i = 0; i < 80; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random() * 100 + 'vw';
                c.style.background = colors[Math.floor(Math.random() * colors.length)];
                c.style.animationDuration = Math.random() * 3 + 2 + 's';
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 5000);
            }
        }
        document.addEventListener('click', e => {
            if (e.target.closest('.card')) celebrate();
        });
    </script>
</body>
</html>
